<ion-content class="register-content">
  <div class="register-container">
    <div class="header">
      <ion-button fill="clear" class="back-btn" routerLink="/login">
        <ion-icon name="arrow-back" slot="icon-only"></ion-icon>
      </ion-button>
      <h1>Đăng ký tài khoản</h1>
      <p>Nông sản Đà Lạt</p>
    </div>

    <form (ngSubmit)="onRegister()">
      <ion-item lines="none" class="input-item">
        <ion-icon name="person" slot="start"></ion-icon>
        <ion-input 
          id="reg-fullname"
          type="text" 
          placeholder="Họ và tên"
          [(ngModel)]="registerData.full_name"
          name="full_name"
          required>
        </ion-input>
      </ion-item>

      <ion-item lines="none" class="input-item">
        <ion-icon name="mail" slot="start"></ion-icon>
        <ion-input 
          id="reg-email"
          type="email" 
          placeholder="Email"
          [(ngModel)]="registerData.email"
          name="email"
          required>
        </ion-input>
      </ion-item>

      <ion-item lines="none" class="input-item">
        <ion-icon name="call" slot="start"></ion-icon>
        <ion-input 
          id="reg-phone"
          type="tel" 
          placeholder="Số điện thoại"
          [(ngModel)]="registerData.phone"
          name="phone">
        </ion-input>
      </ion-item>

      <ion-item lines="none" class="input-item">
        <ion-icon name="lock-closed" slot="start"></ion-icon>
        <ion-input 
          id="reg-password"
          type="password" 
          placeholder="Mật khẩu (tối thiểu 6 ký tự)"
          [(ngModel)]="registerData.password"
          name="password"
          minlength="6"
          required>
        </ion-input>
      </ion-item>

      <ion-item lines="none" class="input-item">
        <ion-icon name="people" slot="start"></ion-icon>
        <ion-select 
          id="reg-role"
          placeholder="Loại tài khoản"
          [(ngModel)]="registerData.role"
          name="role"
          interface="popover"
          required>
          <ion-select-option value="customer">Khách hàng</ion-select-option>
          <ion-select-option value="farmer">Nông dân</ion-select-option>
        </ion-select>
      </ion-item>

      <ion-button 
        expand="block" 
        type="submit" 
        class="register-btn"
        [disabled]="loading">
        <ion-spinner *ngIf="loading" name="crescent"></ion-spinner>
        <span *ngIf="!loading">Đăng ký</span>
      </ion-button>
    </form>

    <div class="login-link">
      <p>Đã có tài khoản? <a routerLink="/login">Đăng nhập ngay</a></p>
    </div>
  </div>
</ion-content>

